<!-- <div class="back-header">
  <button class="back-btn" (click)="goBack()">
    <i class="fa fa-arrow-left"></i> 
  </button>
  <h3 class="page-title">{{ categoryName }}</h3>
</div> -->



<div class="category-container">
  <div class="back-header">
    <button class="back-btn" (click)="goBack()">
      <i class="fa fa-arrow-left"></i> <!-- uses Font Awesome -->
    </button>
    <!-- <h3 class="page-title">{{ categoryName }}</h3> -->
  </div>
  <!-- <h1>{{ categoryName }} Sellers</h1> -->

  <div *ngIf="sellers.length > 0; else comingSoon" class="sellers-list">
    <div class="seller-card" *ngFor="let seller of sellers">
      <div class="seller-header"  (click)="navigateToVendorDetail(seller, $event)">
        <h2>{{ seller.name }} 
        <i class="fa fa-arrow-right"></i> <!-- uses Font Awesome -->
     </h2>
        <!-- <span class="status" [ngClass]="seller.status">
          {{ seller.status === 'open' ? 'ðŸŸ¢ Open Today' : 'ðŸ”´ Closed Today' }}
        </span> -->
      </div>
      <p class="seller-owner" *ngIf="seller.owner && seller.flat">
        {{ seller.owner }} - {{ seller.flat }}
      </p>


      <p *ngIf="seller.description" class="seller-desc">{{ seller.description }} <a *ngIf="seller.fullMessage" href="#"
          (click)="openDetails(seller); $event.preventDefault(); $event.stopPropagation()">See details</a> 
        <a *ngIf="seller.formLink" [href]="seller.formLink" target="_blank" (click)="$event.stopPropagation()">
          Register Here as Donor
        </a>
      </p>

      <div *ngIf="seller.sections">
        <div *ngFor="let section of seller.sections" class="section">
          <div class="section-header" (click)="toggleSection(section)">
            <h4>{{ section.name }}</h4>
            <span>{{ section.expanded ? 'â–²' : 'â–¼' }}</span>
          </div>

          <div class="section-content blood-donors-table"  *ngIf="section.expanded">
            <table *ngIf="section.items && section.items.length">
              <thead *ngIf="section.headers">
                <tr>
                  <th>Item</th>
                  <th *ngFor="let head of section.headers">{{ head }}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of section.items">
                  <td>{{ item.name }}</td>
                  <td *ngFor="let price of item.prices">{{ price ? price : '-' }}</td>
                  <!-- <td *ngFor="let price of item.prices">{{ price ? 'â‚¹' + price : '-' }}</td> -->

                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Scrollable travel packages -->
      <div class="scroll-packages" *ngIf="seller.packages?.length">
        <div class="chip" *ngFor="let place of seller.packages">{{ place }}</div>
      </div>


      <ul class="items" *ngIf="!seller.dataKey">
        <li *ngFor="let item of seller.items">
          <span class="item-name">{{ item.name }}</span>
          <span *ngIf="item.price" class="price">{{ item.price }}</span>
        </li>
      </ul>
      
      <!-- Blood Donors Table -->
      <div *ngIf="seller.dataKey === 'Blooddonars'" class="blood-donors-table">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Mobile</th>
              <th>Blood Group</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of seller.items">
              <td>{{ extractName(item.name) }}</td>
              <td>
                <a [href]="'tel:' + extractPhone(item.name)" class="phone-link">
                  {{ extractPhone(item.name) }}
                </a>
              </td>
              <td class="blood-group">{{ item.price && item.price[0] ? item.price[0] : '-' }}</td>sections
            </tr>
          </tbody>
        </table>
      </div>
      <div class="buttons">
        <!-- <button
          class="icon-btn contact-btn"
          title="Call"
          (click)="contactSeller(seller.phone)"
        >
          <i class="fas fa-phone"></i>
        </button>

        <button
          class="icon-btn whatsapp-btn"
          title="WhatsApp"
          (click)="openWhatsApp(seller.whatsapp)"
        >
          <i class="fab fa-whatsapp"></i>
        </button> -->
        <div class="action-buttons">
          <a *ngIf="seller.phone" [href]="'tel:' + seller.phone" class="btn-icon call-btn">
            <i class="fa-solid fa-phone"></i>
          </a>
          <a *ngIf="seller.whatsapp" [href]="seller.whatsapp" target="_blank" class="btn-icon whatsapp-btn">
            <i class="fa-brands fa-whatsapp"></i>
          </a>
          <a *ngIf="seller.instagram" [href]="seller.instagram" target="_blank" class="btn-icon instagram-btn">
            <i class="fa-brands fa-instagram"></i>
          </a>
          <a *ngIf="seller.website" [href]="seller.website" target="_blank" class="btn-icon website-btn">
            <i class="fa-solid fa-globe"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
  <!-- Coming Soon Message -->
  <ng-template #comingSoon>
    <div class="coming-soon">
      <i class="fas fa-hourglass-half"></i>
      <p>Coming Soon...</p>
    </div>
  </ng-template>
</div>
<footer class="app-footer">
  <p>Created & Maintained by <b>Mahender Reddy Vutkuri</b> (A1903)</p>
  <p>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSc6ZNwwNjSINSDpaFqaiYfDEvavJmpDRIi3AJ6aNkFQxjSKVg/viewform
    " target="_blank">
      Want to register your business? Click here â†’
    </a>
  </p>
  <p>
    <a href="https://forms.gle/BRsxNULygpRaSQi9A
    " target="_blank">
      Want to share feedback/suggestions? Click here â†’
    </a>
  </p>
</footer>